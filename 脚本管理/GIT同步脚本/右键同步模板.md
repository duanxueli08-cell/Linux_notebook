



```powershell
"C:\Program Files\Git\bin\sh.exe" -c "sh '/c/Program Files/Obsidian/data/Obsidian Vault/脚本模板/GIT同步脚本/sync.sh'"
```

```powershell
wt -d "C:\Program Files\Obsidian\data\Obsidian Vault" ^ -p "{your-git-bash-guid}" ^ bash -c "/c/Program Files/Obsidian/data/Obsidian Vault/脚本模板/GIT同步脚本/sync.sh"

b453ae62-4e3d-5e58-b989-0a999ec441b8

wt -d "C:\Program Files\Obsidian\data\Obsidian Vault" ^ -p "{b453ae62-4e3d-5e58-b989-0a999ec441b8}" ^ bash -c "/c/Program Files/Obsidian/data/Obsidian Vault/脚本模板/GIT同步脚本/sync.sh"

```



# 模板一

---



```powershell
#!/bin/bash

# ── 自动定位到 Obsidian Vault 根目录（含 .git）──
cd "$(dirname "$0")/.." || { printf "\n ❌ 无法归砚：路径迷失。\n"; exit 1; }

if [ ! -d ".git" ]; then
  printf "\n ❌ 此处无墨池（非 Git 仓库）：$(pwd)\n"
  exit 1
fi

# ── 随机禅语库 ──
zen_quotes=(
  "笔落惊风雨，提交定乾坤。"
  "一砚云烟起，万念入仓来。"
  "无事常静坐，有改即推之。"
  "墨干犹可续，念头不可追。"
  "竹影扫阶尘不动，代码推罢心自空。"
  "不写无益之字，不提无用之交。"
  "砚田无荒岁，只因勤 git add。"
)

# 随机选一句
selected_zen="${zen_quotes[$RANDOM % ${#zen_quotes[@]}]}"

# ── 开始同步 ──
printf "\n   🎋 竹 · 墨 · 砚 · 同步启\n"
printf "   ─────────────────────\n"
printf "   「%s」\n" "$selected_zen"
printf "\n"

printf "   🖌️  砚中研墨（暂存更改）...\n"
git add . >/dev/null 2>&1

printf "\n   🖋️  落笔成 commit...\n"
if git diff-index --quiet HEAD --; then
  printf "   🕊️  纸素洁净，无需新墨。\n"
else
  git commit -m "." >/dev/null 2>&1
  printf "   ✒️  一划已成，封存于史。\n"
fi

printf "\n   ☁️  乘云寄远（推送云端）...\n"
git push >/dev/null 2>&1

printf "\n   ─────────────────────\n"
printf "   🌿 同步毕。心砚归寂。\n\n"

sleep 3
```



# 模板二

---

```powershell
@echo off
chcp 65001 >nul
cd /d "C:\Program Files\Obsidian\data\Obsidian Vault"

echo.
echo   ✦✦✦  Obsidian 笔记云同步中  ✦✦✦
echo   ◈───────────────────────◈
echo.

"C:\Program Files\Git\bin\sh.exe" -c "
  printf '\n   ⚡ 正在暂存所有更改...\n';
  git add .;

  printf '\n   🌱 尝试提交快照...\n';
  if git diff-index --quiet HEAD --; then
    printf '   💤 工作区干净，无需新提交。\n';
  else
    git commit -m '.' 2>/dev/null;
    printf '   ✅ 提交成功：一个念头已封存。\n';
  fi;

  printf '\n   ☁️  推送至云端...\n';
  git push;

  printf '\n   ◈───────────────────────◈\n';
  printf '   🕊️  同步完成。思绪已归云。\n\n';
  sleep 3;
"

exit
```



模板三

---

```powershell
#!/bin/bash

# 1. 自动定位：无论从哪触发，都强制进入脚本所在的目录
# 解决你“一闪而逝”找不到路径的问题
TARGET_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"
cd "$TARGET_DIR"


echo "------------------------------------------"
echo "🚀 开始同步 K8S 笔记..."
echo "📍 当前工作目录: $(pwd)"
echo "------------------------------------------"

# 3. 执行 Git 指令
echo "📦 正在添加变更..."
git add .

# 4. 使用动态时间戳作为 commit message
# 即使没有改动，加上 || true 防止脚本因为 git commit 返回非零值而中断
echo "📝 正在提交记录..."
git commit -m "Auto-sync: $(date '+%Y-%m-%d %H:%M:%S')" || echo "ℹ️ 没有检测到需要提交的变更"

# 5. 推送到远程
echo "📤 正在上传到 GitHub..."
git push


echo "------------------------------------------"
echo "✅ 同步成功！数据已上传至 GitHub。"
echo "------------------------------------------"

# 1. 设置 3 秒停顿（1秒太快可能看不清，建议 3 秒，SRE 的“温柔”提醒）
# 你可以根据需要改成 sleep 1
sleep 3

# 2. 脚本结束，窗口会自动关闭
exit 0
```

